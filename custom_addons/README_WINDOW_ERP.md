# Window ERP System для Odoo 17

Полноценная ERP система для производства, продажи, монтажа и сервиса окон.

## Структура модулей

### Основные модули:

1. **window_base** - Базовый модуль с зависимостями
2. **window_measurement** - Управление замерами окон
3. **window_offer** - Коммерческие предложения и договоры
4. **window_production** - Производство (MRP интеграция)
5. **window_installation** - Монтаж окон
6. **window_service** - Гарантия и сервис
7. **window_crm** - Расширение CRM для оконного бизнеса
8. **window_dashboard** - Дашборды и KPI

## Установка

1. Установите все модули в следующем порядке:
   - window_base
   - window_measurement
   - window_offer
   - window_production
   - window_installation
   - window_service
   - window_crm
   - window_dashboard

2. Обновите приложения после установки

## Роли и права доступа

- **Call Center** - ограниченный доступ к лидам (только ранние стадии)
- **Замерщик** - видит только свои замеры
- **Менеджер** - полный доступ к заказам, печать КП и договоров
- **Производство** - доступ к MRP
- **Монтажник** - видит только свои задачи монтажа
- **Бухгалтер** - доступ к оплатам и актам

## Бизнес-процесс

CRM → Замер → КП → Договор → Производство → Доставка → Монтаж → Акт → Сервис

## Функционал

### Замеры (window_measurement)
- Создание замеров из CRM лидов
- Автоматическое создание задач в проекте "Замеры"
- Кнопка "Создать КП" после завершения замера
- Фотографии и технические параметры

### КП и Договоры (window_offer)
- Генерация коммерческих предложений
- Расчет стоимости
- Создание договоров
- PDF шаблоны: КП, Договор, Спецификация, Акт

### Производство (window_production)
- Автоматическое создание производственных заказов
- Динамическое создание BOM
- Интеграция с sale.order

### Монтаж (window_installation)
- Создание задач монтажа из заказов
- Управление бригадами монтажников
- Статусы: Назначено → Доставка → Монтаж → Уборка → Акт
- Фотографии монтажа

### Сервис (window_service)
- Собственная модель сервисных обращений (window.service.ticket)
- Отслеживание гарантийных случаев
- Типы проблем: уплотнитель, фурнитура, стеклопакет, профиль, монтаж
- Управление статусами обращений: Новое → Назначено → В работе → Решено → Закрыто

### CRM (window_crm)
- Дополнительные стейджи:
  - Новый
  - Консультация
  - Калькуляция
  - Назначен замер
  - Замер выполнен
  - КП/Договор
  - Аванс получен
  - Производство
  - Готово к доставке
  - Монтаж
  - Завершено
  - Пост-сервис

### Дашборд (window_dashboard)
- Воронка продаж
- Производственный план
- KPI замерщиков
- KPI монтажников
- Срок обработки лида
- Доходность заказов

## Интеграции

Подготовлены точки расширения для:
- Телефонии
- WhatsApp
- SMS
- Банковских оплат

## Технические детали

- Все модули используют только Odoo 17 API
- Нет устаревших методов (API до v14)
- Правильная структура модулей по стандарту Odoo
- Корректные права доступа и record rules
- QWeb шаблоны для PDF документов

